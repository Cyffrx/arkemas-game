stateMachine
    states
        attacking
        casting
        channeling
        dead
        dodging
        idling
        interacting
        moving
        staggered

    activeState

    player controls
        move =>
            if state is idling || moving || attacking || casting
                move character
        attack =>
            if state is idling || moving || interacting
                if ranged equipped
                    use ranged attack
                else
                    use melee attack
            if state is channeling
                cast spell
        dodge =>
            if state is idling || moving || attacking || channeling
                dodge